## typescript



## Object.defineProperty(obj, prop, descriptor)

- 作用: 可以用来精确添加或修改对象的属性，只需要在 descriptor 对象中将属性特性描述清楚

  

1.	数据描述符，它拥有四个属性配置
2.	configurable：数据是否可删除，可配置
3.	enumerable：属性是否可枚举
4.	value：属性值,默认为undefined
5.	writable：属性是否可读写
6.	get:一个给属性提供 getter 的方法，如果没有 getter 则为 undefined。
7.	set:一个给属性提供 setter 的方法，如果没有 setter 则为 undefined。

1----4 案例


```js
let obj = { name: "123", age: 18 };
Object.defineProperty(obj, "name", {
  configurable: false, // name 不可删除
  enumerable: false, // name 不可便利出来
  writable: false, // name 的值无法改写
});
for (const key in obj) {
  console.log(key, obj[key]); // 18
}
delete obj.name;
obj.name = "李四"; // 无法改写
console.log(obj); // { name: "123", age: 18 }
Object.defineProperty(obj, "age", {
  value: "age的值被修改了",
});
console.log(obj); // {age: "age的值被修改了", name: "123"}
```

6---7案例

```js
let obj2 = { name: "李四", age: 20 };
let value = "张三";
Object.defineProperty(obj2, "name", {
  get() {
    console.log("get 我被执行了");
    return value; // 设置了 name 的值
  },
  set(newvalue) {
    console.log("set 我被执行了");
  },
});
console.log(obj2.name); // 张三
obj2.name = "王五"; // 设置值调用 19 行
```



https://shanyue.tech/